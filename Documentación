MLOGGER
Proyecto realizado por MIGUEL HERNÁNDEZ ANDREU

Introducción.
Mlogger es un servicio creado por mi el cual ejecuta un script que he desarrollado para monitorear distintos eventos, registros y el seguimiento continuado de recursos importantes del sistema como el uso de la CPU o la memoria RAM.

¿Cómo monitorea mlogger el sistema?
Mlogger se basa en un abanico de prioridades a la hora de monitorear distintos eventos o recursos del sistema.
Existen prioridades altas, medias y bajas y a parte prioridades opcionales.

PRIORIDAD ALTA: 
Uso de la CPU. OK!!
Uso de la Memoria RAM (MiB Mem). OK!!
Espacio en disco. OK!!
Servicios críticos. OK!!
Supervisión de logs del sistema como (syslog, dmesg, audit.log…). OK!!
Estado de backups. OK !! /
Copias de seguridad OK!!

PRIORIDAD MEDIA:
Uso de la SWAP. OK!!
Uso de la RED. OK!!
Procesos que más CPU y MEM consumen. OK!!
Conexiones entrantes y salientes. 
Puertos abiertos y en funcionamiento nmap. OK!!
Actualizaciones del sistema. OK !! 
Errores de hardware (Discos y Memoria). /

PRIORIDAD BAJA:
Integridad de los archivos.
Monitoreo de usuarios conectados. OK !!


¿Cómo funciona el script?
El script implementado para mlogger ejecuta funciones de monitoreo de manera continua utilizando temporizadores, capturando tanto eventos críticos como eventos de menor prioridad. Además, el script evalúa la carga de recursos del sistema, utilizando herramientas como top para analizar el rendimiento y el uso de recursos en tiempo real.

¿Cómo implementamos el servicio en el SO?
En el zip donde viene el script mlogger.sh viene otro script de instalación que debemos de ejecutar como root para su correcto funcionamiento, este moverá el script a /usr/local/bin y creará el fichero con el servicio que implementará en /etc/systemd/system y habilitará para que se inicie siempre que encendamos nuestro sistema.

Para la correcta ejecución:
Descomprimir el .zip en una carpeta.
Nos situamos en la carpeta con cd /ruta/a/carpeta.
Como root, chmod +x instmlogger.sh
Lo ejecutamos ./instmlogger.sh

¿Y qué pasaría si queremos eliminar mlogger de nuestro sistema?
Si queremos eliminar por completo mlogger del sistema, tenemos otro archivo en el .zip llamado “uninstmlogger.sh”, a el igual que el instalador, solo debemos de seguir los mismos pasos pero con este archivo, esto borrará el script del sistema, eliminará el servicio (deteniendolo primeramente) y el archivo residual mlog que quedará se renombrará a mlog.old, si desinstalamos el servicio repetidas veces no supondrá un problema porque se crearán distintos ficheros mlog.old del 1 hasta el infinito.

¿Qué herramientas usa mlogger para trabajar?
Herramientas para el monitoreo de la red: ifstat, ping, nmap
Herramientas para monitoreo de CPU: top, lscpu, /proc/stat
Herramientas para monitoreo de RAM: top, lsmem, /proc/meminfo
Herramientas para monitoreo de Almacenamiento: df, lsblk
Herramientas para mostrar información del SO: hostnamectl
Herramientas para monitorear servicios: systemctl
Herramientas para monitorear la SWAP: free
Herramientas para monitorear procesos: ps
Herramientas para monitorear tiempo activo del servidor: uptime
Herramientas para monitorear usuarios: who

